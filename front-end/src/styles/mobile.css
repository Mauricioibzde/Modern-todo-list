/* Mobile Responsive Styles */

@media (max-width: 768px) {
    /* --- Main Layout --- */
    main {
        padding-left: 0 !important; /* Force no padding on mobile */
        width: 100%;
        display: block; /* Stack content if grid was used */
    }

    section {
        padding: 5rem 1.5rem 2rem 1.5rem; /* Reduce padding */
    }

    /* --- Sidebar (Mobile Menu) --- */
    .sidebar {
        width: 280px;
        transform: translateX(-100%); /* Default hidden on mobile */
        box-shadow: 2px 0 10px rgba(0,0,0,0.5); /* Add shadow for overlay effect */
    }

    /* Invert "active" logic for mobile if the JS toggles it. 
       Currently JS adds .active. 
       Desktop: .sidebar (0) -> .sidebar.active (-100%)
       Mobile We want: .sidebar (-100%) -> .sidebar.active (0)
       
       Wait, if I use the SAME JS, clicking menu will add .active.
       If I inherit the class, I just need to define what .active does on mobile.
    */
    
    .sidebar.active {
        transform: translateX(0); /* Visible when active */
    }

    /* Overlay Background when menu is open */
    .sidebar.active::before {
        content: '';
        position: fixed;
        top: 0;
        left: 280px; /* Starts after sidebar */
        width: 100vw;
        height: 100vh;
        background: rgba(0,0,0,0.5);
        z-index: 98;
        cursor: pointer;
        /* Note: Closing on click outside requires JS, this is just visual/blocker */
    }

    /* --- Metrics Dashboard --- */
    .metrics-container {
        justify-content: space-between;
        gap: .5rem;
        text-align: center;
    }

    .metric-card .value {
        font-size: 2rem;
    }

    /* --- Search Section --- */
    .search {
      
    }

    .search-wrapper {
        width: 100%;
        margin-bottom: 2rem;
    }

    #search-input {
        width: 100%;
        font-size: 1rem;
        padding: 1rem 1rem 1rem 3rem;
    }

    .filter-chips {
        gap: 0.5rem;
    }

    .filter-chip {
        padding: 0.4rem 1rem;
        font-size: 0.85rem;
    }

    /* --- List Tasks --- */
    .list-tasks-ul li {
        flex-direction: column; /* Stack content in list item */
        align-items: flex-start;
        padding: 1rem;
        gap: 0.75rem;
    }

    .task-header {
        width: 100%;
        margin-bottom: 0.5rem;
    }

    .controls {
        width: 100%;
        justify-content: flex-end;
        margin-top: 0.5rem;
    }
    
    .description {
        padding-left: 0; /* Remove indent on mobile */
        width: 100%;
    }

    /* --- Add Task Form --- */
    .add-task {
      
    }
    
    .add-task input, 
    .add-task textarea, 
    .add-task select {
        font-size: 16px; /* Prevent IOS zoom */
        
    }
    
    .custom-category .select-selected {
        font-size: 16px;
    }

    /* --- Menu Icon --- */
    .menu-icon {
        top: 24px;
        background: var(--bg-secondary); /* Ensure visibility */
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .top-bar {
        height: .5rem;
    }

    section {
        padding-block: 2rem;
    }

    .metric-card {
        width: 4.5rem;
          padding: .3rem;

          & h3 {
            font-size: .7rem;
          }

          & div {
            font-size: .8rem!important;
          }
    }

    .insights-row {
     display: flex;
     justify-content: center;
}


.insight-item {
    width: 100%;

}

.chart-container {
    width: 100%;
}

.list-tasks-ul {

    margin-top: 10rem;
    max-height: 480px;
    overflow-y: auto;
}

.calendar-inline {
    padding: .2rem!important;
}

}